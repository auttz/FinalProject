<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
    }
    .container {
      max-width: 1000px;
    }
    .card {
      padding: 20px;
    }
    h2, h3, h4 {
      margin-bottom: 20px;
    }
  </style>
</head>

<body>
  <div class="container mt-5">
    <h2 class="text-center">üìä ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤</h2>
    <div class="row">
      
      <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏†‡∏≤‡∏©‡∏µ -->
      <div class="col-md-6">
        <div class="card shadow-sm">
          <h4 class="text-primary">üîπ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ</h4>

          <div class="mb-2">
            <label class="form-label">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (‡∏ö‡∏≤‡∏ó):</label>
            <input type="number" class="form-control" id="income" value="1800000">
          </div>

          <div class="mb-2">
            <label class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏∏‡∏ï‡∏£‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢ (‡∏Ñ‡∏ô):</label>
            <input type="number" class="form-control" id="children" value="2">
          </div>

          <div class="mb-2">
            <label class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏∏‡∏ï‡∏£‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏ö‡∏∏‡∏ï‡∏£‡∏ö‡∏∏‡∏ç‡∏ò‡∏£‡∏£‡∏° (‡∏Ñ‡∏ô):</label>
            <input type="number" class="form-control" id="normalChildren" value="1">
          </div>

          <div class="mb-2">
            <label class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏∏‡∏ï‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¥‡∏Å‡∏≤‡∏£ (‡∏Ñ‡∏ô):</label>
            <input type="number" class="form-control" id="disabled" value="1">
          </div>

          <div class="mb-2">
            <label class="form-label">‡∏°‡∏µ‡∏Ñ‡∏π‡πà‡∏™‡∏°‡∏£‡∏™‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</label>
            <select class="form-select" id="hasSpouse">
              <option value="1">‡∏°‡∏µ</option>
              <option value="0">‡πÑ‡∏°‡πà‡∏°‡∏µ</option>
            </select>
          </div>

          <div class="mb-2">
            <label class="form-label">‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á (‡∏ö‡∏≤‡∏ó):</label>
            <input type="number" class="form-control" id="personalDeduction" value="60000">
          </div>

          <div class="mb-2">
            <label class="form-label">‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô‡∏™‡∏≥‡∏£‡∏≠‡∏á‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ä‡∏µ‡∏û (PVD) (‡∏ö‡∏≤‡∏ó):</label>
            <input type="number" class="form-control" id="pvd" value="10000">
          </div>

          <div class="mb-2">
            <label class="form-label">‡πÄ‡∏á‡∏¥‡∏ô‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô RMF/SSF (‡∏ö‡∏≤‡∏ó):</label>
            <input type="number" class="form-control" id="rmf" value="100000">
          </div>

          <div class="mb-2">
            <label class="form-label">‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï (‡∏ö‡∏≤‡∏ó):</label>
            <input type="number" class="form-control" id="insurance" value="100000">
          </div>

          <div class="mb-2">
            <label class="form-label">‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏π‡πâ‡∏ö‡πâ‡∏≤‡∏ô (‡∏ö‡∏≤‡∏ó):</label>
            <input type="number" class="form-control" id="homeLoan" value="100000">
          </div>

          <div class="mb-2">
            <label class="form-label">‡πÄ‡∏á‡∏¥‡∏ô‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (‡∏ö‡∏≤‡∏ó):</label>
            <input type="number" class="form-control" id="donation" value="10000">
          </div>

          <div class="mb-2">
            <label class="form-label">‡πÄ‡∏á‡∏¥‡∏ô‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤/‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏£‡∏±‡∏ê:</label>
            <select class="form-select" id="donationType">
              <option value="50000">50,000 ‡∏ö‡∏≤‡∏ó</option>
              <option value="100000">100,000 ‡∏ö‡∏≤‡∏ó</option>
            </select>
          </div>

          <div class="mb-2">
            <label class="form-label">‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡πÉ‡∏´‡πâ‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á (‡∏ö‡∏≤‡∏ó):</label>
            <input type="number" class="form-control" id="education" value="0">
          </div>

          <div class="mb-2">
            <label class="form-label">‡πÄ‡∏á‡∏¥‡∏ô‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à (‡∏ö‡∏≤‡∏ó):</label>
            <input type="number" class="form-control" id="politicalDonation" value="0">
          </div>

          <button class="btn btn-success w-100 mt-3" onclick="calculateTax()">üìå ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ</button>
        </div>
      </div>

      <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏†‡∏≤‡∏©‡∏µ -->
      <div class="col-md-6">
        <div class="card shadow-sm bg-light">
          <h4 class="text-danger">üìå ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h4>
          <p id="taxResult" class="fs-5 fw-bold text-primary">‡∏†‡∏≤‡∏©‡∏µ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢: - ‡∏ö‡∏≤‡∏ó</p>
          <p id="taxableIncome" class="fs-6">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ: - ‡∏ö‡∏≤‡∏ó</p>

          <h5 class="mt-3">‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß:</h5>
          <ul id="deductionList" class="list-group">
            <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
          </ul>
        </div>
      </div>
    </div>

    <button class="btn btn-danger w-100 mt-4" onclick="logout()">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
  </div>

  <script>
    function calculateProgressiveTax(taxableIncome) {
    let tax = 0;

    const brackets = [
    { limit: 150000, rate: 0 },
    { limit: 300000, rate: 0.05 },
    { limit: 500000, rate: 0.1 },
    { limit: 750000, rate: 0.15 },
    { limit: 1000000, rate: 0.2 },
    { limit: 2000000, rate: 0.25 },
    { limit: Infinity, rate: 0.3 }
  ];

    let lastLimit = 0;
    for (let i = 0; i < brackets.length; i++) {
        const { limit, rate } = brackets[i];
        if (taxableIncome > limit) {
            tax += (limit - lastLimit) * rate;
            lastLimit = limit;
        } else {
            tax += (taxableIncome - lastLimit) * rate;
            break;
        }
    }

    return tax;
    }

    function calculateTax() {
      let income = parseFloat(document.getElementById("income").value);
      let children = parseInt(document.getElementById("children").value);
      let normalChildren = parseInt(document.getElementById("normalChildren").value);
      let disabled = parseInt(document.getElementById("disabled").value);
      let hasSpouse = parseInt(document.getElementById("hasSpouse").value);

      let personalDeduction = parseFloat(document.getElementById("personalDeduction").value);
      let pvd = parseFloat(document.getElementById("pvd").value);
      let rmf = parseFloat(document.getElementById("rmf").value);
      let insurance = parseFloat(document.getElementById("insurance").value);
      let homeLoan = parseFloat(document.getElementById("homeLoan").value);
      let donation = parseFloat(document.getElementById("donation").value);
      let donationType = parseFloat(document.getElementById("donationType").value);
      let education = parseFloat(document.getElementById("education").value);
      let politicalDonation = parseFloat(document.getElementById("politicalDonation").value);

      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
      let spouseDeduction = hasSpouse ? 60000 : 0;
      let childrenDeduction = (normalChildren * 30000) + (children * 60000);
      let disabledDeduction = disabled * 60000;

      // ‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
      let totalDeduction = personalDeduction + spouseDeduction + childrenDeduction + disabledDeduction + pvd + rmf + insurance + homeLoan + donation + donationType + education + politicalDonation;

      let netIncome = income - totalDeduction;
      let tax = netIncome > 150000 ? (netIncome - 150000) * 0.1 : 0;

      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
      document.getElementById("taxResult").innerHTML = `‡∏†‡∏≤‡∏©‡∏µ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢: <span class="text-danger">${tax.toFixed(2)}</span> ‡∏ö‡∏≤‡∏ó`;
      document.getElementById("taxableIncome").innerHTML = `‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ: ${netIncome.toFixed(2)} ‡∏ö‡∏≤‡∏ó`;

      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô
      let list = `
        <li class="list-group-item">‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•: ${personalDeduction} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏Ñ‡∏π‡πà‡∏™‡∏°‡∏£‡∏™: ${spouseDeduction} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏ö‡∏∏‡∏ï‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô: ${children * 60000} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏ö‡∏∏‡∏ï‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ: ${normalChildren * 30000} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">‡∏Ñ‡πà‡∏≤‡∏•‡∏î‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏Ñ‡∏ô‡∏û‡∏¥‡∏Å‡∏≤‡∏£: ${disabledDeduction} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">PVD: ${pvd} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">RMF/SSF: ${rmf} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï: ${insurance} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ö‡πâ‡∏≤‡∏ô: ${homeLoan} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">‡πÄ‡∏á‡∏¥‡∏ô‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ: ${donation} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">‡πÄ‡∏á‡∏¥‡∏ô‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏Å‡∏µ‡∏¨‡∏≤/‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏£‡∏±‡∏ê: ${donationType} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤: ${education} ‡∏ö‡∏≤‡∏ó</li>
        <li class="list-group-item">‡πÄ‡∏á‡∏¥‡∏ô‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á: ${politicalDonation} ‡∏ö‡∏≤‡∏ó</li>
      `;

      document.getElementById("deductionList").innerHTML = list;
    }

    function logout() {
      localStorage.clear();
      window.location.href = "login.html";
    }
  </script>
</body>
</html>
